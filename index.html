<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Curiosité détectée</title>

<style>
    body {
        margin: 0;
        background: #fafafa;
        font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        height: 100vh;
        overflow: hidden;
        transition: background 6s ease;
        cursor: none;
    }

    #intro, #hope {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        transition: opacity 2s ease;
        white-space: nowrap;
    }

    #intro {
        font-size: 1.5rem;
        color: #111;
        z-index: 2;
    }

    #hope {
        font-size: 1.3rem;
        letter-spacing: 0.04em;
        color: #fff;
        opacity: 0;
        z-index: 10;
    }

    .question {
        position: absolute;
        max-width: 35vw;
        font-size: 0.95rem;
        opacity: 0.8;
        pointer-events: none;
        transition: opacity 5s linear;
        z-index: 1;
    }

    canvas#ink {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 3;
        transition: opacity 6s ease;
    }
</style>
</head>

<body>

<div id="intro">Tu n’étais pas censé cliquer.</div>
<div id="hope"></div>
<canvas id="ink"></canvas>

<script>
/* ================= INTRO ================= */
const introMessages = [
    "Tu n’étais pas censé cliquer.",
    "Mais tu l’as fait.",
    "Par curiosité.",
    "C’est une qualité rare.",
    "Surtout ici.",
    "Ce site n’a rien à vendre.",
    "Juste une observation.",
    "Tu lis encore.",
    "On devrait probablement parler."
];

let introIndex = 0;
const intro = document.getElementById("intro");

const introInterval = setInterval(() => {
    intro.style.opacity = 0;
    setTimeout(() => {
        introIndex++;
        if (introIndex < introMessages.length) {
            intro.innerText = introMessages[introIndex];
            intro.style.opacity = 1;
        } else {
            clearInterval(introInterval);
            intro.style.display = "none";
            launchChaos();
            startInk();
            setTimeout(selfDestruct, 45000);
        }
    }, 2000);
}, 4000);

/* ================= QUESTIONS INTIMES ================= */
const questions = [
    "Est-ce que tu fais vraiment ce que tu choisis ?",
    "Qu’est-ce que tu ignores volontairement ?",
    "Qui regarde vraiment ?",
    "À quoi ressemble ta curiosité ?",
    "Qu’as-tu appris aujourd’hui par toi-même ?",
    "Pourquoi continues-tu à chercher ?",
    "Est-ce que tu observes ou tu comprends ?",
    
    "Est-ce que la fin justifie parfois les moyens ?",

    "La croissance est-elle une illusion ?",

    "À qui appartient l’espace public ?",

    "Est-ce que le progrès doit avoir des limites ?",

    "Sommes-nous encore capables d’attention ?",

    "La morale est-elle contextuelle ?",

    "Est-ce que la transparence est toujours souhaitable ?",

    "Peut-on séparer information et influence ?",

    "La complexité est-elle devenue une excuse ?",
    "Que ferais-tu si rien n’était imposé ?"
];

function rand(min, max) {
    return Math.random() * (max - min) + min;
}

function launchChaos() {
    let i = 0;
    const chaos = setInterval(() => {
        if (i >= questions.length) {
            clearInterval(chaos);
            return;
        }
        const q = document.createElement("div");
        q.className = "question";
        q.innerText = questions[i];

        q.style.top = rand(10, 80) + "vh";
        q.style.left = rand(10, 80) + "vw";
        q.style.transform = `rotate(${rand(-180,180)}deg) scale(${rand(0.8,1.4)})`;
        q.style.opacity = rand(0.3,0.9);

        document.body.appendChild(q);

        setTimeout(() => q.style.opacity = 0, rand(12000,18000));
        i++;
    }, 1300);
}

/* ================= ENCRE ROUGE ================= */
const canvas = document.getElementById("ink");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = innerWidth;
    canvas.height = innerHeight;
}
addEventListener("resize", resize);
resize();

let blobs = [];
let redness = 0;

function addBlob() {
    blobs.push({
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        r: 0,
        maxR: 500 + Math.random()*500,
        speed: 0.3 + Math.random(),
        alpha: 0.04 + Math.random()*0.05
    });
}

function startInk() {
    setInterval(addBlob, 900);
    requestAnimationFrame(drawInk);
}

function drawInk() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    redness = Math.min(redness + 0.0003, 0.9);
    ctx.fillStyle = `rgba(120,0,0,${redness})`;
    ctx.fillRect(0,0,canvas.width,canvas.height);

    blobs.forEach(b => {
        b.r += b.speed;
        const g = ctx.createRadialGradient(b.x,b.y,0,b.x,b.y,b.r);
        g.addColorStop(0,`rgba(160,0,0,${b.alpha})`);
        g.addColorStop(1,"rgba(160,0,0,0)");
        ctx.fillStyle = g;
        ctx.beginPath();
        ctx.arc(b.x,b.y,b.r,0,Math.PI*2);
        ctx.fill();
    });

    blobs = blobs.filter(b => b.r < b.maxR);
    requestAnimationFrame(drawInk);
}

/* ================= AUTO-DESTRUCTION & ESPOIR ================= */
const hopePhrases = [
    "Ce n’est pas fini.",
    "Tout n’est pas perdu.",
    "Quelque chose résiste.",
    "Il reste des questions.",
    "Et des esprits pour les poser.",
    "Tant qu’il y aura des hommes curieux,",
    "la connaissance continuera d’avancer."
];

function selfDestruct() {
    document.querySelectorAll(".question").forEach(q => q.style.opacity = 0);
    canvas.style.opacity = 0;
    document.body.style.background = "#000";

    const hope = document.getElementById("hope");
    let i = 0;

    const hopeInterval = setInterval(() => {
        hope.style.opacity = 0;
        setTimeout(() => {
            hope.innerText = hopePhrases[i];
            hope.style.opacity = 1;
            i++;
            if (i >= hopePhrases.length) clearInterval(hopeInterval);
        }, 2000);
    }, 6000);
}
</script>

</body>
</html>
